<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h3>对象或者构造函数中有then()方法，这个方法会被包装成promise对象</h3>
	</body>
	<script src="js/ajax.js"></script>
	<script>
		class Product {
			constructor(type) {
				this.type = type;
			}
			then(resolve, reject) {
				let user = Request('/productlist?type' + this.type);
				resolve(user);//这里完成了  下面的 打印p1才会有结果
			}
		}

		async function get(type) {
			let p1 = await new Product(type);
			console.log(p1);
		}
		get(1)
	</script>
</html>
